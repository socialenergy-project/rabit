<%= content_for :title, @user_clustering_scenario.id -%>

<div class="row">
  <div class="col-lg-12">
    <div class="card mb-3">
      <div class="card-header">
        <i class="fa fa-area-chart"></i>
        user_clustering_scenario properties
      </div>
      <div class="card-body">
        <p>
          <strong>Kappa:</strong>
          <%= @user_clustering_scenario.kappa-%>
        </p>
        <p>
          <strong>Silhouette:</strong>
          <%= @user_clustering_scenario.silhouette-%>
        </p>

        <p>
          <strong>User parameters:</strong>
          <% if @user_params&.keys && @param_keys  %>
            <table class="table-responsive table-striped table-bordered table-hover">
              <thead>
                <tr>
                    <th>User</th>
                    <% @param_keys.each do |k| %>
                      <th><%= k %></th>
                    <% end %>
                </tr>
              </thead>
              <tbody>
                <% @user_params.keys.each do |u|  %>
                  <tr>
                    <th><%= u %></th>
                      <% @param_keys.each do |k| %>
                        <td><%= @user_params[u][k] %></td>
                      <% end %>
                  </tr>
                <% end %>
              </tbody>
            </table>

          <% end %>
        </p>

        <%= link_to 'Edit', edit_user_clustering_scenario_path(@user_clustering_scenario), class: 'btn btn-warning btn-sm' if can? :edit, @user_clustering_scenario %> |
        <%= link_to 'All User Clustering Scenarios', user_clustering_scenarios_path, class: 'btn btn-info btn-sm' %>

      </div>
      <div class="card-footer small text-muted">
      </div>
    </div>
  </div>

  <div class="col-lg-6 align-items-stretch">
    <div class="card mb-3">
      <div class="card-header">
        <i class="fa fa-area-chart"></i>
        Energy Cost
      </div>
      <div class="card-body">
        <canvas id="energyCostChart" width="100%" height="55"></canvas>
      </div>
      <div class="card-footer small text-muted">
      </div>
    </div>
  </div>

</div>

<script>
    console.log("Turbolinks called");

    createScatterChart("energyCostChart", <%= {'123': []}.to_json.html_safe -%>, null, true, "System Energy Cost (â‚¬)");

</script>


